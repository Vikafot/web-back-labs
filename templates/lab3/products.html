{% extends "base.html" %}

{% block lab %}Лабораторна работа 3{% endblock %}

{% block main %}
<h2>Поиск смартфонов по цене</h2>

<form method="GET" action="/lab3/products">
    <p>
        <label>Мин. цена:<br>
            <input type="number" name="min_price" 
                   value="{{ min_price or '' }}" 
                   placeholder="{{ global_min }}">
        </label>
    </p>
    <p>
        <label>Макс. цена:<br>
            <input type="number" name="max_price" 
                   value="{{ max_price or '' }}" 
                   placeholder="{{ global_max }}">
        </label>
    </p>
    <button type="submit" name="action" value="search">Искать</button>
    <a href="/lab3/products/reset" style="margin-left: 10px;">Сброс</a>
</form>

<hr>

{% if products %}
    <p>Найдено товаров: {{ products|length }}</p>
    <ul>
    {% for p in products %}
        <li>
            <strong>{{ p.name }}</strong> — {{ p.price }} ₽, 
            бренд: {{ p.brand }}, цвет: {{ p.color }}
        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>Не найдено ни одного товара.</p>
{% endif %}

<br>
<a href="/lab3/">Меню</a>
{% endblock %}